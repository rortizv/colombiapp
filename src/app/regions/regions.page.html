<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Regiones</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="animate__animated animate__fadeInLeftBig">
  <span *ngIf="!isLoading">
    <ion-card *ngFor="let region of regions">
      <img alt="{{region.description}}" src="{{region.imageUrl}}" />
      <ion-card-header>
        <ion-card-title>{{region.name}}</ion-card-title>
      </ion-card-header>

      <ion-card-content class="text-justify">
        {{region.description}}
      </ion-card-content>

      <ion-button fill="clear" (click)="openDepartmentsByRegionModal(true, region)">Ver Departamentos</ion-button>

      <ion-modal [isOpen]="isModalOpen">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-title>Departamentos</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="openDepartmentsByRegionModal(false)">Close</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            <ion-list>
              <ion-item *ngFor="let department of departments">
                <ion-label>{{department.name}}</ion-label>
              </ion-item>
            </ion-list>
          </ion-content>
        </ng-template>
      </ion-modal>

    </ion-card>
  </span>
</ion-content>
